skel.registerPlugin("panels",function(){var b={config:{baseZIndex:1e4,useTransform:!0,transformBreakpoints:null,speed:250,panels:{},overlays:{}},cache:{panels:{},overlays:{},body:null,window:null,pageWrapper:null,defaultWrapper:null,fixedWrapper:null,activePanel:null},eventType:"click",positions:{panels:{top:["top","left"],right:["top","right"],bottom:["bottom","left"],left:["top","left"]},overlays:{"top-left":{top:0,left:0},"top-right":{top:0,right:0},top:{top:0,left:"50%"},"top-center":{top:0,left:"50%"},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},bottom:{bottom:0,left:"50%"},"bottom-center":{bottom:0,left:"50%"},left:{top:"50%",left:0},"middle-left":{top:"50%",left:0},right:{top:"50%",right:0},"middle-right":{top:"50%",right:0}}},presets:{standard:{panels:{navPanel:{breakpoints:"mobile",position:"left",style:"push",size:"80%",html:'<div data-action="navList" data-args="nav"></div>'}},overlays:{titleBar:{breakpoints:"mobile",position:"top-left",width:"100%",height:44,html:'<span class="toggle" data-action="togglePanel" data-args="navPanel"></span><span class="title" data-action="copyHTML" data-args="logo"></span>'}}}},defaults:{config:{panel:{breakpoints:"",position:null,style:null,size:"80%",html:"",resetScroll:!0,resetForms:!0,swipeToClose:!0},overlay:{breakpoints:"",position:null,width:0,height:0,html:""}}},recalcW:function(a){var b=parseInt(a);return"string"==typeof a&&"%"==a.charAt(a.length-1)&&(b=Math.floor(jQuery(window).width()*(b/100))),b},recalcH:function(a){var b=parseInt(a);return"string"==typeof a&&"%"==a.charAt(a.length-1)&&(b=Math.floor(jQuery(window).height()*(b/100))),b},getHalf:function(a){var b=parseInt(a);return"string"==typeof a&&"%"==a.charAt(a.length-1)?Math.floor(b/2)+"%":Math.floor(b/2)+"px"},parseSuspend:function(a){var b=a.get(0);b._skel_panels_suspend&&b._skel_panels_suspend()},parseResume:function(a){var b=a.get(0);b._skel_panels_resume&&b._skel_panels_resume()},parseInit:function(a){var c,d,e,f,g=a.get(0),h=a.attr("data-action"),i=a.attr("data-args");switch(h&&i&&(i=i.split(",")),h){case"togglePanel":case"panelToggle":a.css("-webkit-tap-highlight-color","rgba(0,0,0,0)").css("cursor","pointer"),c=function(a){if(a.preventDefault(),a.stopPropagation(),b.cache.activePanel)return b.cache.activePanel._skel_panels_close(),!1;var c=(jQuery(this),b.cache.panels[i[0]]);c.is(":visible")?c._skel_panels_close():c._skel_panels_open()},"android"==b._.vars.deviceType||"wp"==b._.vars.deviceType?a.bind("click",c):a.bind(b.eventType,c);break;case"navList":e=jQuery("#"+i[0]),c=e.find("a"),d=[],c.each(function(){var a,b=jQuery(this);a=Math.max(0,b.parents("li").length-1),d.push('<a class="link depth-'+a+'" href="'+b.attr("href")+'"><span class="indent-'+a+'"></span>'+b.text()+"</a>")}),d.length>0&&a.html("<nav>"+d.join("")+"</nav>"),a.find(".link").css("cursor","pointer").css("display","block");break;case"copyText":e=jQuery("#"+i[0]),a.html(e.text());break;case"copyHTML":e=jQuery("#"+i[0]),a.html(e.html());break;case"moveElementContents":e=jQuery("#"+i[0]),g._skel_panels_resume=function(){console.log("moving element contents"),e.children().each(function(){a.append(jQuery(this))})},g._skel_panels_suspend=function(){console.log("returning element contents"),a.children().each(function(){e.append(jQuery(this))})},g._skel_panels_resume();break;case"moveElement":e=jQuery("#"+i[0]),g._skel_panels_resume=function(){console.log("moving element"),jQuery('<div id="skel-panels-tmp-'+e.attr("id")+'" />').insertBefore(e),a.append(e)},g._skel_panels_suspend=function(){console.log("returning element"),jQuery("#skel-panels-tmp-"+e.attr("id")).replaceWith(e)},g._skel_panels_resume();break;case"moveCell":e=jQuery("#"+i[0]),f=jQuery("#"+i[1]),g._skel_panels_resume=function(){console.log("moving cell"),jQuery('<div id="skel-panels-tmp-'+e.attr("id")+'" />').insertBefore(e),a.append(e),e.css("width","auto"),f&&f._skel_panels_expandCell()},g._skel_panels_suspend=function(){console.log("returning cell"),jQuery("#skel-panels-tmp-"+e.attr("id")).replaceWith(e),e.css("width",""),f&&f.css("width","")},g._skel_panels_resume()}},lockView:function(a){b.cache.window._skel_panels_scrollPos=b.cache.window.scrollTop(),b._.vars.isTouch&&b.cache.body.css("overflow-"+a,"hidden"),b.cache.pageWrapper.bind("touchstart.lock",function(a){a.preventDefault(),a.stopPropagation(),b.cache.activePanel&&b.cache.activePanel._skel_panels_close()}),b.cache.pageWrapper.bind("click.lock",function(a){a.preventDefault(),a.stopPropagation(),b.cache.activePanel&&b.cache.activePanel._skel_panels_close()}),b.cache.pageWrapper.bind("scroll.lock",function(a){a.preventDefault(),a.stopPropagation(),b.cache.activePanel&&b.cache.activePanel._skel_panels_close()}),b.cache.window.bind("orientationchange.lock",function(){b.cache.activePanel&&b.cache.activePanel._skel_panels_close()}),b._.vars.isTouch||(b.cache.window.bind("resize.lock",function(){b.cache.activePanel&&b.cache.activePanel._skel_panels_close()}),b.cache.window.bind("scroll.lock",function(){b.cache.activePanel&&b.cache.activePanel._skel_panels_close()}))},unlockView:function(a){b._.vars.isTouch&&b.cache.body.css("overflow-"+a,"visible"),b.cache.pageWrapper.unbind("touchstart.lock"),b.cache.pageWrapper.unbind("click.lock"),b.cache.pageWrapper.unbind("scroll.lock"),b.cache.window.unbind("orientationchange.lock"),b._.vars.isTouch||(b.cache.window.unbind("resize.lock"),b.cache.window.unbind("scroll.lock"))},resumeElement:function(a){var c=b.cache[a.type+"s"][a.id];c.find("*").each(function(){b.parseResume(jQuery(this))}),console.log(a.id+": "+a.type+" resumed")},suspendElement:function(a){var c=b.cache[a.type+"s"][a.id];c._skel_panels_translateOrigin(),c.find("*").each(function(){b.parseSuspend(jQuery(this))}),console.log(a.id+": "+a.type+" suspended")},initElement:function(a){var c,d=a.config,e=jQuery(a.object);switch(b.cache[a.type+"s"][a.id]=e,e._skel_panels_init(),e.find("*").each(function(){b.parseInit(jQuery(this))}),a.type){case"panel":switch(e.addClass("skel-panels-panel").css("z-index",b.config.baseZIndex).css("position","fixed").hide(),e.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)").bind("click.skel-panels",function(a){var c=jQuery(this);if(b.cache.activePanel&&!c.hasClass("skel-panels-ignore")){a.preventDefault(),a.stopPropagation();var d=c.attr("href"),e=c.attr("target");b.cache.activePanel._skel_panels_close(),c.hasClass("skel-panels-ignoreHref")||window.setTimeout(function(){"_blank"==e&&"wp"!=b._.vars.deviceType?window.open(d):window.location.href=d},b.config.speed+10)}}),"ios"==b._.vars.deviceType&&e.find("input,select,textarea").focus(function(a){var c=jQuery(this);a.preventDefault(),a.stopPropagation(),window.setTimeout(function(){var a=b.cache.window._skel_panels_scrollPos,d=b.cache.window.scrollTop()-a;b.cache.window.scrollTop(a),b.cache.activePanel.scrollTop(b.cache.activePanel.scrollTop()+d),c.hide(),window.setTimeout(function(){c.show()},0)},100)}),d.position){case"top":case"bottom":var f="bottom"==d.position?"-":"";switch(e.addClass("skel-panels-panel-"+d.position).data("skel-panels-panel-position",d.position).css("height",b.recalcH(d.size)).scrollTop(0),b._.vars.isTouch?e.css("overflow-y","scroll").css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch").bind("touchstart",function(a){e._posY=a.originalEvent.touches[0].pageY,e._posX=a.originalEvent.touches[0].pageX}).bind("touchmove",function(a){var b=(e._posX-a.originalEvent.touches[0].pageX,e._posY-a.originalEvent.touches[0].pageY),c=e.outerHeight(),d=e.get(0).scrollHeight-e.scrollTop();return 0==e.scrollTop()&&0>b||d>c-2&&c+2>d&&b>0?!1:void 0}):e.css("overflow-y","auto"),d.style){case"reveal":case"push":default:e._skel_panels_open=function(){e._skel_panels_promote().scrollTop(0).css("left","0px").css(d.position,"-"+b.recalcH(d.size)+"px").css("height",b.recalcH(d.size)).css("width","100%").show(),d.resetScroll&&e.scrollTop(0),d.resetForms&&e._skel_panels_resetForms(),b.lockView("y"),window.setTimeout(function(){e.add(b.cache.fixedWrapper.children()).add(b.cache.pageWrapper)._skel_panels_translate(0,f+b.recalcH(d.size)),b.cache.activePanel=e},100)},e._skel_panels_close=function(){e.find("*").blur(),e.add(b.cache.pageWrapper).add(b.cache.fixedWrapper.children())._skel_panels_translateOrigin(),window.setTimeout(function(){b.unlockView("y"),e._skel_panels_demote().hide(),b.cache.activePanel=null},b.config.speed+50)}}break;case"left":case"right":var f="right"==d.position?"-":"";switch(e.addClass("skel-panels-panel-"+d.position).data("skel-panels-panel-position",d.position).css("width",b.recalcW(d.size)).scrollTop(0),b._.vars.isTouch?e.css("overflow-y","scroll").css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch").bind("touchstart",function(a){e._posY=a.originalEvent.touches[0].pageY,e._posX=a.originalEvent.touches[0].pageX}).bind("touchmove",function(a){var b=e._posX-a.originalEvent.touches[0].pageX,c=e._posY-a.originalEvent.touches[0].pageY,f=e.outerHeight(),g=e.get(0).scrollHeight-e.scrollTop();return d.swipeToClose&&20>c&&c>-20&&("left"==d.position&&b>50||"right"==d.position&&-50>b)?(e._skel_panels_close(),!1):0==e.scrollTop()&&0>c||g>f-2&&f+2>g&&c>0?!1:void 0}):e.css("overflow-y","auto"),d.style){case"push":default:e._skel_panels_open=function(){e._skel_panels_promote().scrollTop(0).css("top","0px").css(d.position,"-"+b.recalcW(d.size)+"px").css("width",b.recalcW(d.size)).css("height","100%").show(),d.resetScroll&&e.scrollTop(0),d.resetForms&&e._skel_panels_resetForms(),b.lockView("x"),window.setTimeout(function(){e.add(b.cache.fixedWrapper.children()).add(b.cache.pageWrapper)._skel_panels_translate(f+b.recalcW(d.size),0),b.cache.activePanel=e},100)},e._skel_panels_close=function(){e.find("*").blur(),e.add(b.cache.fixedWrapper.children()).add(b.cache.pageWrapper)._skel_panels_translateOrigin(),window.setTimeout(function(){b.unlockView("x"),e._skel_panels_demote().hide(),b.cache.activePanel=null},b.config.speed+50)};break;case"reveal":e._skel_panels_open=function(){b.cache.fixedWrapper._skel_panels_promote(2),b.cache.pageWrapper._skel_panels_promote(1),e.scrollTop(0).css("top","0px").css(d.position,"0px").css("width",b.recalcW(d.size)).css("height","100%").show(),d.resetScroll&&e.scrollTop(0),d.resetForms&&e._skel_panels_resetForms(),b.lockView("x"),window.setTimeout(function(){b.cache.pageWrapper.add(b.cache.fixedWrapper.children())._skel_panels_translate(f+b.recalcW(d.size),0),b.cache.activePanel=e},100)},e._skel_panels_close=function(){e.find("*").blur(),b.cache.pageWrapper.add(b.cache.fixedWrapper.children())._skel_panels_translateOrigin(),window.setTimeout(function(){b.unlockView("x"),e.hide(),b.cache.pageWrapper._skel_panels_demote(),b.cache.pageWrapper._skel_panels_demote(),b.cache.activePanel=null},b.config.speed+50)}}}break;case"overlay":e.css("z-index",b.config.baseZIndex).css("position","fixed").addClass("skel-panels-overlay"),e.css("width",d.width).css("height",d.height),(c=b.positions.overlays[d.position])||(d.position="top-left",c=b.positions.overlays[d.position]),e.addClass("skel-panels-overlay-"+d.position).data("skel-panels-overlay-position",d.position),b._.iterate(c,function(a){e.css(a,c[a]),"50%"==c[a]&&("top"==a?e.css("margin-top","-"+b.getHalf(d.height)):"left"==a&&e.css("margin-left","-"+b.getHalf(d.width)))})}console.log(a.id+": "+a.type+" initialized!")},initElements:function(a){var c,d,e,f=[];b._.iterate(b.config[a+"s"],function(g){c={},b._.extend(c,b.defaults.config[a]),b._.extend(c,b.config[a+"s"][g]),b.config[a+"s"][g]=c,d=b._.newDiv(c.html),d.id=g,d.className="skel-panels-"+a,c.html||(f[g]=d),e=c.breakpoints?c.breakpoints.split(","):b._.breakpointList,b._.iterate(e,function(f){var h=b._.cacheBreakpointElement(e[f],g,d,"overlay"==a?"skel_panels_fixedWrapper":"skel_panels_defaultWrapper",2);h.config=c,h.initialized=!1,h.type=a,h.onAttach=function(){this.initialized?b.resumeElement(this):(b.initElement(this),this.initialized=!0)},h.onDetach=function(){b.suspendElement(this)}})}),b._.DOMReady(function(){var a,c;b._.iterate(f,function(b){a=jQuery("#"+b),c=jQuery(f[b]),a.children().appendTo(c),a.remove()})})},initJQueryUtilityFuncs:function(){if(jQuery.fn._skel_panels_promote=function(a){return this._zIndex=this.css("z-index"),this.css("z-index",b.config.baseZIndex+(a?a:1)),this},jQuery.fn._skel_panels_demote=function(){return this._zIndex&&(this.css("z-index",this._zIndex),this._zIndex=null),this},jQuery.fn._skel_panels_xcssValue=function(a,b){return jQuery(this).css(a,"-moz-"+b).css(a,"-webkit-"+b).css(a,"-o-"+b).css(a,"-ms-"+b).css(a,b)},jQuery.fn._skel_panels_xcssProperty=function(a,b){return jQuery(this).css("-moz-"+a,b).css("-webkit-"+a,b).css("-o-"+a,b).css("-ms-"+a,b).css(a,b)},jQuery.fn._skel_panels_xcss=function(a,b){return jQuery(this).css("-moz-"+a,"-moz-"+b).css("-webkit-"+a,"-webkit-"+b).css("-o-"+a,"-o-"+b).css("-ms-"+a,"-ms-"+b).css(a,b)},jQuery.fn._skel_panels_resetForms=function(){var a=jQuery(this);return jQuery(this).find("form").each(function(){this.reset()}),a},jQuery.fn._skel_panels_initializeCell=function(){var a=jQuery(this);a.attr("class").match(/(\s+|^)([0-9]+)u(\s+|$)/)&&a.data("cell-size",parseInt(RegExp.$2))},jQuery.fn._skel_panels_expandCell=function(){var a=jQuery(this),b=a.parent(),c=12;b.children().each(function(){var a=jQuery(this),b=a.attr("class");b&&b.match(/(\s+|^)([0-9]+)u(\s+|$)/)&&(c-=parseInt(RegExp.$2))}),c>0&&(a._skel_panels_initializeCell(),a.css("width",(a.data("cell-size")+c)/12*100+"%"))},b.config.useTransform&&b._.vars.IEVersion>=10&&(!b.config.transformBreakpoints||b._.hasActive(b.config.transformBreakpoints.split(","))))jQuery.fn._skel_panels_translateOrigin=function(){return jQuery(this)._skel_panels_translate(0,0)},jQuery.fn._skel_panels_translate=function(a,b){return jQuery(this).css("transform","translate("+a+"px, "+b+"px)")},jQuery.fn._skel_panels_init=function(){return jQuery(this).css("backface-visibility","hidden").css("perspective","500")._skel_panels_xcss("transition","transform "+b.config.speed/1e3+"s ease-in-out")};else{var c=[];b.cache.window.resize(function(){if(0!=b.config.speed){var a=b.config.speed;b.config.speed=0,window.setTimeout(function(){b.config.speed=a,c=[]},a)}}),jQuery.fn._skel_panels_translateOrigin=function(){for(var a=0;a<this.length;a++){var d=this[a],e=jQuery(d);c[d.id]&&e.animate(c[d.id],b.config.speed,"swing",function(){b._.iterate(c[d.id],function(a){e.css(a,c[d.id][a])}),b.cache.body.css("overflow-x","visible"),b.cache.pageWrapper.css("width","auto").css("padding-bottom",0)})}return jQuery(this)},jQuery.fn._skel_panels_translate=function(d,e){var f,g,h,i;for(d=parseInt(d),e=parseInt(e),0!=d?(b.cache.body.css("overflow-x","hidden"),b.cache.pageWrapper.css("width",b.cache.window.width())):h=function(){b.cache.body.css("overflow-x","visible"),b.cache.pageWrapper.css("width","auto")},0>e?b.cache.pageWrapper.css("padding-bottom",Math.abs(e)):i=function(){b.cache.pageWrapper.css("padding-bottom",0)},f=0;f<this.length;f++){var j,k=this[f],l=jQuery(k);if(!c[k.id])if(j=b.positions.overlays[l.data("skel-panels-overlay-position")])c[k.id]=j;else if(j=b.positions.panels[l.data("skel-panels-panel-position")])for(c[k.id]={},g=0;j[g];g++)c[k.id][j[g]]=parseInt(l.css(j[g]));else j=l.position(),c[k.id]={top:j.top,left:j.left};a={},b._.iterate(c[k.id],function(f){var g;switch(f){case"top":g=b.recalcH(c[k.id][f])+e;break;case"bottom":g=b.recalcH(c[k.id][f])-e;break;case"left":g=b.recalcW(c[k.id][f])+d;break;case"right":g=b.recalcW(c[k.id][f])-d}a[f]=g}),l.animate(a,b.config.speed,"swing",function(){h&&h(),i&&i()})}return jQuery(this)},jQuery.fn._skel_panels_init=function(){return jQuery(this).css("position","absolute")}}},initObjects:function(){b.cache.window=jQuery(window),b.cache.window.load(function(){0==b.cache.window.scrollTop()&&window.scrollTo(0,1)}),b._.DOMReady(function(){b.cache.body=jQuery("body"),b.cache.body.wrapInner('<div id="skel-panels-pageWrapper" />'),b.cache.pageWrapper=jQuery("#skel-panels-pageWrapper"),b.cache.pageWrapper.css("position","relative").css("left","0").css("right","0").css("top","0")._skel_panels_init(),b.cache.defaultWrapper=jQuery('<div id="skel-panels-defaultWrapper" />').appendTo(b.cache.body),b.cache.defaultWrapper.css("height","100%"),b.cache.fixedWrapper=jQuery('<div id="skel-panels-fixedWrapper" />').appendTo(b.cache.body),b.cache.fixedWrapper.css("position","relative"),jQuery(".skel-panels-fixed").appendTo(b.cache.fixedWrapper),b._.registerLocation("skel_panels_defaultWrapper",b.cache.defaultWrapper[0]),b._.registerLocation("skel_panels_fixedWrapper",b.cache.fixedWrapper[0]),b._.registerLocation("skel_panels_pageWrapper",b.cache.pageWrapper[0]),$("[autofocus]").focus()})},initIncludes:function(){b._.DOMReady(function(){jQuery(".skel-panels-include").each(function(){b.parseInit(jQuery(this))})})},init:function(){b.eventType=b._.vars.isTouch?"touchend":"click",("android"==b._.vars.deviceType&&b._.vars.deviceVersion<4||"wp"==b._.vars.deviceType)&&(b.config.useTransform=!1),b.initObjects(),b.initJQueryUtilityFuncs(),b.initElements("overlay"),b.initElements("panel"),b.initIncludes(),b._.updateState()}};return b}());